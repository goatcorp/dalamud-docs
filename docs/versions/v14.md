---
sidebar_position: -14
---

# What's New in Dalamud v14

:::warning[Not finalized]

This version is not finalized, and all details here are subject to change.

:::

Dalamud v14 is the current major version of Dalamud, and will release with Patch
7.4. This is a high-level overview of changes. You can see a code diff of all of
these changes
[here](https://github.com/goatcorp/Dalamud/compare/13.0.0.16...api14).

## Key Information

- **Branch:** `api14`
  ([view on GitHub](https://github.com/goatcorp/Dalamud/tree/api14))
- **Release Date:** August 6, 2025
- **API Level:** 14
- **.NET Version:** .NET 10.0.0

:::warning[Dalamud.NET.Sdk Migration]

If you haven't done so yet, we strongly recommend
[migrating your plugin project to Dalamud.NET.Sdk](/plugin-development/how-tos/v12-sdk-migration).

It includes the latest version of DalamudPackager, pinned to the current API
level, and will make it easier for us to introduce changes to how we distribute
SDK files in the future.

:::

## Major Changes

### Upgrade to .NET 10 / C# 14

Learn about the new features in
[.NET 10](https://learn.microsoft.com/en-us/dotnet/core/whats-new/dotnet-10/overview)
and
[C# 14](https://learn.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-14).

### Namespace changes

All service interfaces are now in the `Dalamud.Plugin.Services` namespace.

| Old                                               | New                                         |
| ------------------------------------------------- | ------------------------------------------- |
| `Dalamud.Game.ISigScanner`                        | `Dalamud.Plugin.Services.ISigScanner`       |
| `Dalamud.Game.ClientState.Objects.ITargetManager` | `Dalamud.Plugin.Services.ITargetManager`    |
| `Dalamud.Plugin.SelfTest.ISelfTestRegistry`       | `Dalamud.Plugin.Services.ISelfTestRegistry` |

### New Bindings for ImAnim v1.0.0

[ImAnim](https://github.com/soufianekhiat/ImAnim) is an animation engine for
ImGui that allows writing smooth UI animations with minimal code.

C# bindings are available via the new `Dalamud.Bindings.ImAnim` package, which
is automatically referenced when using the Dalamud.NET.Sdk.

### New Service: IPlayerState

The new
[`IPlayerState`](https://github.com/goatcorp/Dalamud/blob/master/Dalamud/Plugin/Services/IPlayerState.cs)
service provides a partial wrapper around
[`PlayerState`](https://github.com/aers/FFXIVClientStructs/blob/main/FFXIVClientStructs/FFXIV/Client/Game/UI/PlayerState.cs)
from ClientStructs and additionally provides the `CurrentWorld` and `HomeWorld`
properties of type `RowRef<World>`.

The exposed data is available from login until logout and is not bound to the
lifetime of the local player's GameObject.

### New Service: IUnlockState

The new
[`IUnlockState`](https://github.com/goatcorp/Dalamud/blob/master/Dalamud/Plugin/Services/IUnlockState.cs)
service provides functions to check the unlock status of various content and
collectibles.

It also provides an `Unlock` event, carrying the `RowRef` of the detected
unlocked entry.

:::note

For now, IUnlockState is marked as an experimental service, because it might
change based on feedback we receive. To make use of it, add
`#pragma warning disable Dalamud001` to your source file, or add `Dalamud001` to
`NoWarnings` in your .csproj.

:::

<details>
<summary>Expand for a list of currently supported excel sheets</summary>

- ActionSheet
- AetherCurrent
- AetherCurrentCompFlgSet
- AozAction
- BannerBg
- BannerCondition
- BannerDecoration
- BannerFacial
- BannerFrame
- BannerTimeline
- BuddyAction
- BuddyEquip
- CSBonusContentType
- CharaMakeCustomize
- ChocoboTaxi
- Companion
- CraftAction
- EmjVoiceNpc
- Emote
- GeneralAction
- Glasses
- HowTo
- InstanceContentSheet
- Item
- MJILandmark
- MKDLore
- McGuffin
- Mount
- NotebookDivision
- Orchestrion
- Ornament
- Perform
- PublicContentSheet
- Recipe
- SecretRecipeBook
- Trait
- TripleTriadCard

</details>

### New Service: IReliableFileStorage

The new
[`IReliableFileStorage`](https://github.com/goatcorp/Dalamud/blob/master/Dalamud/Plugin/Services/IReliableFileStorage.cs)
service provides functionality to read and write files from and to the local filesystem in a reliable manner.

All reads and writes are backed by a secondary virtual filesystem, which can be used to automatically recover lost changes
in case of power loss or malfunctioning hardware. As all data is duplicated, care must be taken to not write overly large files
and a size limit is enforced.

### Changes to existing services

#### IClientState

- `LocalPlayer` is now obsolete, as it was moved to `IObjectTable.LocalPlayer`.\
  Before switching you should evaluate whether `IPlayerState` contains the
  information you need.
- `LocalContentId` is now obsolete, as it was moved to `IPlayerState.ContentId`.
- Fixed `IsClientIdle` always returning false when the player is on the Free
  Trial.

#### IDalamudPluginInterface

- The service now inherits from
  [`System.IServiceProvider`](https://learn.microsoft.com/en-us/dotnet/api/system.iserviceprovider).

#### IGameGui

- Added an `AgentUpdate` event. See
  [AgentUpdateFlag](https://github.com/goatcorp/Dalamud/blob/494d9a0/Dalamud/Game/Gui/AgentUpdateFlag.cs)
  for possible reasons why this event is fired.

#### IObjectTable

- Added `LocalPlayer` as a shortcut for the first entry in the Object Table.

#### IUiBuilder

- Added a boolean `PluginUISoundEffectsEnabled` to expose whether the
  `Enable sound effects for plugin windows` setting is enabled.

### SeStringRenderer

You can now render SeStrings directly to a texture, which can be used wherever IDalamudTextureWrap can be used,
by calling `ITextureProvider.CreateTextureFromSeString()` like any of the other SeString rendering functions.

When passing a draw list to SeString rendering functions through `SeStringDrawParams.TargetDrawList`, care must now
be taken to set `SeStringDrawParams.Font`, `SeStringDrawParams.FontSize` and `SeStringDrawParams.ScreenOffset`.

This has been done to accomodate rendering SeStrings outside an ImGui draw context, as accessing ImGui state there is not allowed.

### Plugin Testing

- Testing plugins must now set `TestingDalamudApiLevel` in their manifest.
- Fixed a bug where testing plugins with a `DalamudApiLevel` more than two
  levels behind the current API did not appear in the Plugin Installer, even if
  `TestingDalamudApiLevel` was up to date.

### Updated Font Awesome from 6.4.2 to 7.1.0

<details>
<summary>Expand for a list of added/removed icons</summary>

#### Added Icons

- AlarmClock
- BusSide
- ChartDiagram
- CommentNodes
- FileFragment
- FileHalfDashed
- Hexagon
- HexagonNodes
- HexagonNodesBolt
- MobileVibrate
- NonBinary
- Octagon
- Pentagon
- Septagon
- SingleQuoteLeft
- SingleQuoteRight
- Spiral
- SquareBinary
- TableCellsColumnLock
- TableCellsRowLock
- TableCellsRowUnlock
- ThumbtackSlash
- WebAwesome

#### Removed Icons

- InstagramSquare
- VectorSquare

</details>

### Removed Dependencies

- Removed the `SharpDX.Direct3D11` and `SharpDX.Mathematics` packages, as
  SharpDX has been unmaintained since 2019. Please switch to
  TerraFX.Interop.Windows.
- Removed the following unused dependencies:
  - System.Collections.Immutable
  - System.Drawing.Common
  - System.Resources.Extensions

## Minor Changes

- All Dalamud services now inherit from an interface marker `IDalamudService`.
- The following enumerable services now return `struct`-based enumerators:
  AetheryteList, BuddyList, FateTable, PartyList, StatusList, ObjectTable
- The following data-classes were converted to `readonly struct`s, as they are
  meant to be read within the same frame: AetheryteEntry, BuddyMember, Fate,
  PartyMember, Status
- [`Status`](https://github.com/goatcorp/Dalamud/blob/master/Dalamud/Game/ClientState/Statuses/Status.cs)
  now also has an interface `IStatus`.
- `Fate.IsValid` was removed as it only checked for the local ContentId and
  wasn't related to Fates at all.
- The `targets/` folder was finally removed, as it was obsolete since API 12. If
  one of your old plugins used it, upgrade to Dalamud.NET.Sdk - learn more here:
  <https://dalamud.dev/plugin-development/how-tos/v12-sdk-migration>
- Exception handling has been improved, and all .NET errors that would have previously
  led to a crash-to-desktop should now properly show the crash handler window.
- Windows that throw exceptions inside their `Draw()` function will now stop rendering and
  show an error message to the user, instead of causing error spam.

### IAddonLifecycle Rework

AddonLifecycle is the service that intercepts and relays various addon events to
plugins, this service prior to this update operated by hooking virtual function
invoke callsites in the native game code, this meant that we could be guaranteed
to capture certain addon events like OnSetup and Finalize, but it made
it impossible to get events like Show and Hide since those are invoked from
several different locations in the native code. 

This rework operates by replacing all addons virtual tables when they are
initialized, and replaces each entry with a Dalamud-controlled dtor that will
notify plugins that the events have occured, before calling back to the original
virtual table function.

:::warning

This rework has a couple minor side effects to watch out for:
 - AddonLifecycle is no longer recursion safe, this means that if you
have a OnRefesh listener, and call OnRefresh within your event listener it will
end up recursively calling your listener. This behavior may
have already been expected, however the old version of the service would not
recurse in a case like this, so we are noting it here anyway.
 - ReceiveEvent messages may be slightly different, the old version of
this service would attempt to directly hook the ReceiveEvent listener for
an addon during OnSetup, however dalamud was forced to do some filtering and
management of how these hooks were created to filter certain events and to
correctly hook the right listeners. With this rework events are much more
accurately relayed, as each addons ReceiveEvent virtual table entry itself is
being relayed, instead of the function that it would have called.

:::

**Additions:**
- Added several new events:  Open, Close, Show, Hide, Move*, MouseOver, MouseOut, Focus*
- Focus is only triggered in response to certain popup windows such as SelectYesno
- Move is only triggered when a move is completed, not during the drag process

**Removals and renamings:**
 - Removed ICloneable from AddonArgs, and derived classes
 - Removed AddonDrawArgs, AddonFinalizeArgs, AddonUpdateArgs, use AddonArgs instead
 - Removed public AddonArgs constructor
 - Renamed AddonReceiveEventArgs.Data to AtkEventData

## Packages

We have released new packages of the SDK and DalamudPackager for this Dalamud
API version.

- [Dalamud.NET.Sdk v14.0.0](https://www.nuget.org/packages/Dalamud.NET.Sdk/14.0.0)
  - To upgrade, change the header of your plugins' `.csproj` file:
    `<Project Sdk="Dalamud.NET.Sdk/14.0.0">`
- [DalamudPackager v14.0.0](https://www.nuget.org/packages/DalamudPackager/14.0.0)
  - You don't need to reference DalamudPackager manually if you use
    Dalamud.NET.Sdk, it is done for you.

## Contributors

We want to thank TODO.

## FFXIVClientStructs Changes

FFXIVClientStructs will introduce their own breaking changes for Patch 7.4,
which will be documented
[on their docs page](https://ffxiv.wildwolf.dev/docs/breaking/7.4.html).

We want to thank aers, Caraxi, Haselnussbomber, Pohky, WildWolf and the other
FFXIVClientStructs contributors for their work.
