# What's New in Dalamud v14

:::warning\[Not finalized]

This version is not finalized, and all details here are subject to change.

:::

Dalamud v14 is the current major version of Dalamud, and will release with Patch
7.4. This is a high-level overview of changes. You can see a code diff of all of
these changes
[here.](https://github.com/goatcorp/Dalamud/compare/12.0.1.5...13.0.0.2)

## Key Information

- **Branch:** `api14`
  ([view on GitHub](https://github.com/goatcorp/Dalamud/tree/api14))
- **Release Date:** August 6, 2025
- **API Level:** 14
- **.NET Version:** .NET 10.0.0

:::warning\[Dalamud.NET.Sdk Migration]

If you haven't done so yet, we strongly recommend
[migrating your plugin project to Dalamud.NET.Sdk](/plugin-development/how-tos/v12-sdk-migration),
especially if you are still using a targets file to reference the Dalamud SDK.
We no longer plan to support the targets file in the next API level.

It includes the latest version of DalamudPackager, pinned to the current API
level, and will make it easier for us to introduce changes to how we distribute
SDK files in the future.

:::

## Major Changes

### Upgrade to .NET 10 / C# 14

Learn about the new features in
[.NET 10](https://learn.microsoft.com/en-us/dotnet/core/whats-new/dotnet-10/overview)
and
[C# 14](https://learn.microsoft.com/en-us/dotnet/csharp/whats-new/csharp-14).

### Namespace changes

All service interfaces are now in the `Dalamud.Plugin.Services` namespace.

| Old                                               | New                                         |
| ------------------------------------------------- | ------------------------------------------- |
| `Dalamud.Game.ISigScanner`                        | `Dalamud.Plugin.Services.ISigScanner`       |
| `Dalamud.Game.ClientState.Objects.ITargetManager` | `Dalamud.Plugin.Services.ITargetManager`    |
| `Dalamud.Plugin.SelfTest.ISelfTestRegistry`       | `Dalamud.Plugin.Services.ISelfTestRegistry` |

### New Bindings for ImAnim v1.0.0

[ImAnim](https://github.com/soufianekhiat/ImAnim) is an animation engine for
ImGui that allows writing smooth UI animations with minimal code.

C# bindings are available via the new `Dalamud.Bindings.ImAnim` package, which
is automatically referenced when using the Dalamud.NET.Sdk.

### New Service: IPlayerState

The new
[`IPlayerState`](https://github.com/goatcorp/Dalamud/blob/master/Dalamud/Plugin/Services/IPlayerState.cs)
service provides a partial wrapper around
[`PlayerState`](https://github.com/aers/FFXIVClientStructs/blob/main/FFXIVClientStructs/FFXIV/Client/Game/UI/PlayerState.cs)
from ClientStructs and additionally provides the `CurrentWorld` and `HomeWorld`
properties of type `RowRef<World>`.

The exposed data is available from login until logout and is not bound to the
lifetime of the local player's GameObject.

### New Service: IUnlockState

The new
[`IUnlockState`](https://github.com/goatcorp/Dalamud/blob/master/Dalamud/Plugin/Services/IUnlockState.cs)
service provides functions to check the unlock status of various content and
collectibles.

It also provides an `Unlock` event, carrying the `RowRef` of the detected
unlocked entry.

> \[!NOTE]\
> For now, IUnlockState is marked as an experimental service, because it might
> change based on feedback we receive. To make use of it, add
> `#pragma warning disable Dalamud001` to your source file, or add `Dalamud001`
> to `NoWarnings` in your .csproj.

<details>
<summary>Expand for a list of currently supported excel sheets</summary>

- ActionSheet
- AetherCurrent
- AetherCurrentCompFlgSet
- AozAction
- BannerBg
- BannerCondition
- BannerDecoration
- BannerFacial
- BannerFrame
- BannerTimeline
- BuddyAction
- BuddyEquip
- CSBonusContentType
- CharaMakeCustomize
- ChocoboTaxi
- Companion
- CraftAction
- EmjVoiceNpc
- Emote
- GeneralAction
- Glasses
- HowTo
- InstanceContentSheet
- Item
- MJILandmark
- MKDLore
- McGuffin
- Mount
- NotebookDivision
- Orchestrion
- Ornament
- Perform
- PublicContentSheet
- Recipe
- SecretRecipeBook
- Trait
- TripleTriadCard

</details>

### Changes to existing services

#### IClientState

- `LocalPlayer` is now obsolete, as it was moved to `IObjectTable.LocalPlayer`.\
  Before switching you should evaluate whether `IPlayerState` contains the
  information you need.
- `LocalContentId` is now obsolete, as it was moved to `IPlayerState.ContentId`.
- Fixed `IsClientIdle` always returning false when the player is on the Free
  Trial.

#### IDalamudPluginInterface

- The service now inherits from
  [`System.IServiceProvider`](https://learn.microsoft.com/en-us/dotnet/api/system.iserviceprovider).

#### IGameGui

- Added an `AgentUpdate` event. See
  [AgentUpdateFlag](https://github.com/goatcorp/Dalamud/blob/494d9a0/Dalamud/Game/Gui/AgentUpdateFlag.cs)
  for possible reasons why this event is fired.

#### IObjectTable

- Added `LocalPlayer` as a shortcut for the first entry in the Object Table.

#### IUiBuilder

- Added a boolean `PluginUISoundEffectsEnabled` to expose whether the
  `Enable sound effects for plugin windows` setting is enabled.

### Plugin Testing

- Testing plugins must now set `TestingDalamudApiLevel` in their manifest.
- Fixed a bug where testing plugins with a `DalamudApiLevel` more than two
  levels behind the current API did not appear in the Plugin Installer, even if
  `TestingDalamudApiLevel` was up to date.

### Updated Font Awesome from 6.4.2 to 7.1.0

<details>
<summary>Expand for a list of added/removed icons</summary>

#### Added Icons

- AlarmClock
- BusSide
- ChartDiagram
- CommentNodes
- FileFragment
- FileHalfDashed
- Hexagon
- HexagonNodes
- HexagonNodesBolt
- MobileVibrate
- NonBinary
- Octagon
- Pentagon
- Septagon
- SingleQuoteLeft
- SingleQuoteRight
- Spiral
- SquareBinary
- TableCellsColumnLock
- TableCellsRowLock
- TableCellsRowUnlock
- ThumbtackSlash
- WebAwesome

#### Removed Icons

- InstagramSquare
- VectorSquare

</details>

### Removed Dependencies

- Removed the `SharpDX.Direct3D11` and `SharpDX.Mathematics` packages, as
  SharpDX has been unmaintained since 2019. Please switch to
  TerraFX.Interop.Windows.
- Removed the following unused dependencies:
  - System.Collections.Immutable
  - System.Drawing.Common
  - System.Resources.Extensions

## Minor Changes

- All Dalamud services now inherit from an interface marker `IDalamudService`.
- The following enumerable services now return `struct`-based enumerators:
  AetheryteList, BuddyList, FateTable, PartyList, StatusList, ObjectTable
- The following data-classes were converted to `readonly struct`s, as they are
  meant to be read within the same frame: AetheryteEntry, BuddyMember, Fate,
  PartyMember, Status
- [`Status`](https://github.com/goatcorp/Dalamud/blob/master/Dalamud/Game/ClientState/Statuses/Status.cs)
  now also has an interface `IStatus`.
- `Fate.IsValid` was removed as it only checked for the local ContentId and
  wasn't related to Fates at all.
- The `targets/` folder was finally removed, as it was obsolete since API 12. If
  one of your old plugins used it, upgrade to Dalamud.NET.Sdk - learn more here:
  <https://dalamud.dev/plugin-development/how-tos/v12-sdk-migration>

## Packages

We have released new packages of the SDK and DalamudPackager for this Dalamud
API version.

- [Dalamud.NET.Sdk v14.0.0](https://www.nuget.org/packages/Dalamud.NET.Sdk/14.0.0)
  - To upgrade, change the header of your plugins' `.csproj` file:
    `<Project Sdk="Dalamud.NET.Sdk/14.0.0">`
- [DalamudPackager v14.0.0](https://www.nuget.org/packages/DalamudPackager/14.0.0)
  - You don't need to reference DalamudPackager manually if you use
    Dalamud.NET.Sdk, it is done for you.

## Contributors

We want to thank TODO.

## FFXIVClientStructs Changes

FFXIVClientStructs will introduce their own breaking changes for Patch 7.4,
which will be documented
[on their docs page](https://ffxiv.wildwolf.dev/docs/breaking/7.4.html).

We want to thank aers, Caraxi, Haselnussbomber, Pohky, WildWolf and the other
FFXIVClientStructs contributors for their work.
